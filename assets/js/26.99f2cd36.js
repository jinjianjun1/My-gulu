(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{253:function(e,t,n){},300:function(e,t,n){"use strict";var a=n(253);n.n(a).a},315:function(e,t,n){"use strict";n.r(t);n(191),n(264);var a={name:"J-table",components:{GIcon:n(195).a},methods:{inExpendedIds:function(e){return this.expendIds.indexOf(e)>=0},expendItems:function(e){this.inExpendedIds(e)?this.expendIds.splice(this.expendIds.indexOf(e),1):this.expendIds.push(e)},changeOlderBy:function(e){var t=JSON.parse(JSON.stringify(this.orderBy)),n=t[e];t[e]="asc"===n?"desc":"desc"===n||"asc",this.$emit("update:orderBy",t)},onChangeItem:function(e,t,n){var a=n.target.checked,r=JSON.parse(JSON.stringify(this.selectedItems));a?r.push(e):r=r.filter(function(t){return t.id!==e.id}),this.$emit("update:selectedItems",r)},onChangeAllItems:function(e){var t=e.target.checked;this.$emit("update:selectedItems",t?this.dataSource:[])},ifItemSelected:function(e){return this.selectedItems.filter(function(t){return t.id===e.id}).length>0}},computed:{expendCellColSpan:function(){var e=0;return this.checkAble&&(e+=1),this.expendField&&(e+=1),e},areAllSelected:function(){var e=this.dataSource.map(function(e){return e.id}).sort(),t=this.selectedItems.map(function(e){return e.id}).sort(),n=!0;if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a]){n=!1;break}return n}},mounted:function(){if(this.$scopedSlots.default){var e=this.$refs.actions[0],t=e.getBoundingClientRect().width,n=e.parentNode,a=getComputedStyle(n),r=a.getPropertyValue("padding-left"),s=a.getPropertyValue("padding-right"),i=a.getPropertyValue("border-left-width"),d=a.getPropertyValue("border-right-width");console.log(r,s,i,d);var l=t+parseInt(r)+parseInt(s)+parseInt(i)+parseInt(d)+"px";this.$refs.actionsHeader.style.width=parseInt(l)+16+"px",this.$refs.actions.map(function(e){e.parentNode.style.width=l})}var o=this.$refs.table.cloneNode(!1);this.table2=o,o.classList.add("j-table-copy");var c=this.$refs.table.children[0],p=c.getBoundingClientRect().height;this.$refs.tableWrapper.style.marginTop=p+"px",this.$refs.tableWrapper.style.height=this.height-p+"px",o.appendChild(c),this.$refs.wrapper.appendChild(o)},beforeDestroy:function(){this.table2.remove()},watch:{selectedItems:function(){this.selectedItems.length===this.dataSource.length?this.$refs.totalSelected.indeterminate=!1:this.$refs.totalSelected.indeterminate=0!==this.selectedItems.length}},data:function(){return{expendIds:[]}},props:{checkAble:{type:Boolean,default:!1},expendField:{type:String},height:{type:Number},loading:{type:Boolean,default:!1},columns:{type:Array,required:!0},dataSource:{type:Array,required:!0,validator:function(e){return!(e.filter(function(e){return void 0===e.id}).length>0)}},numberVisible:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},striped:{type:Boolean,default:!0},selectedItems:{type:Array,default:function(){return[]}},orderBy:{type:Object,default:function(){return{}}}}},r=(n(300),n(1)),s=Object(r.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"j-table-wrapper"},[n("div",{ref:"tableWrapper",style:{height:e.height+"px",overflow:"auto"}},[n("table",{ref:"table",staticClass:"j-table",class:{bordered:e.bordered,compact:e.compact,striped:e.striped}},[n("thead",[n("tr",[e.expendField?n("th",{staticClass:"j-table-center",style:{width:"50px"}}):e._e(),e._v(" "),e.checkAble?n("th",{staticClass:"j-table-center",style:{width:"50px"}},[n("label",[n("input",{ref:"totalSelected",attrs:{type:"checkbox"},domProps:{checked:e.areAllSelected},on:{change:e.onChangeAllItems}})])]):e._e(),e._v(" "),e.numberVisible?n("th",{style:{width:"50px"}},[e._v("#")]):e._e(),e._v(" "),e._l(e.columns,function(t){return n("th",{key:t.field,style:{width:t.width+"px"}},[n("div",{staticClass:"j-table-header"},[e._v("\n                        "+e._s(t.text)+"\n                        "),t.field in e.orderBy?n("span",{staticClass:"j-table-sorter",on:{click:function(n){e.changeOlderBy(t.field)}}},[n("g-icon",{class:{active:"asc"===e.orderBy[t.field]},attrs:{name:"asc"}}),e._v(" "),n("g-icon",{class:{active:"desc"===e.orderBy[t.field]},attrs:{name:"desc"}})],1):e._e()])])}),e._v(" "),e.$scopedSlots.default?n("th",{ref:"actionsHeader"}):e._e()],2)]),e._v(" "),n("tbody",[e._l(e.dataSource,function(t,a){return[n("tr",{key:t.id},[e.expendField?n("td",{staticClass:"j-table-center",style:{width:"50px"}},[n("g-icon",{staticClass:"j-table-expendIcon",attrs:{name:"right"},on:{click:function(n){e.expendItems(t.id)}}})],1):e._e(),e._v(" "),e.checkAble?n("td",{staticClass:"j-table-center",style:{width:"50px"}},[n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.ifItemSelected(t)},on:{change:function(n){e.onChangeItem(t,a,n)}}})])]):e._e(),e._v(" "),e.numberVisible?n("td",{style:{width:"50px"}},[e._v(e._s(a+1))]):e._e(),e._v(" "),e._l(e.columns,function(a){return[n("td",{key:a.field,style:{width:a.width+"px"}},[e._v(e._s(t[a.field]))])]}),e._v(" "),e.$scopedSlots.default?n("td",[n("div",{ref:"actions",refInFor:!0,staticStyle:{display:"inline-block"}},[e._t("default",null,{item:t})],2)]):e._e()],2),e._v(" "),e.inExpendedIds(t.id)?n("tr",{key:t.id+"-expend"},[n("td",{attrs:{colspan:e.columns.length+e.expendCellColSpan}},[e._v("\n                        "+e._s(t[e.expendField]||"无详细描述")+"\n                    ")])]):e._e()]})],2)])]),e._v(" "),e.loading?n("div",{staticClass:"j-table-loading"},[n("g-icon",{attrs:{name:"loading"}})],1):e._e()])},[],!1,null,"59684442",null);s.options.__file="j-table.vue";var i={name:"table-demo",components:{JTable:s.exports},data:function(){return{loading:!1,selected:[],orderBy:{name:!0,score:"desc"},dataSource:[{id:1,name:"jason",score:101,description:"111"},{id:2,name:"frank",score:180,description:"222"},{id:3,name:"frank",score:180},{id:4,name:"frank",score:180},{id:5,name:"frank",score:180},{id:6,name:"frank",score:180},{id:7,name:"frank",score:180},{id:8,name:"jason",score:101},{id:9,name:"jason",score:101},{id:10,name:"jason",score:101},{id:11,name:"jason",score:101},{id:12,name:"frank",score:180},{id:13,name:"frank",score:180},{id:14,name:"frank",score:180},{id:15,name:"frank",score:180},{id:16,name:"frank",score:180},{id:17,name:"frank",score:180},{id:18,name:"frank",score:180},{id:19,name:"frank",score:180},{id:20,name:"frank",score:180}],columns:[{text:"姓名",field:"name",width:200},{text:"分数",field:"score"}]}}},d=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("j-table",{attrs:{"select-items":e.selected,columns:e.columns,striped:!1,compact:"",bordered:"","data-source":e.dataSource},on:{"update:selectItems":function(t){e.selected=t}}})],1)},[],!1,null,"876ddeca",null);d.options.__file="table-demo.vue";t.default=d.exports}}]);